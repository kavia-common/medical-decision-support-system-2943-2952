{"is_source_file": true, "format": "Python", "description": "This is a Django REST Framework views module for a medical decision support system API. It defines various API endpoints for health checking, chatting with a patient agent, generating recommendations, uploading reports, and retrieving recommendations. The file specifies API views decorated for swagger documentation, imports serializers and utility modules, and initializes shared components like storage and agents.", "external_files": [".serializers", ".utils", ".storage", ".rag", ".agents"], "external_methods": ["generate_session_id", "b64_to_bytes"], "published": ["health", "chat_view", "recommend_view", "upload_report_view", "get_recommendation_view"], "classes": [], "methods": [{"name": "health(request)", "description": "Health check endpoint that returns a message indicating the server is running.", "scope": "", "scopeKind": ""}, {"name": "chat_view(request)", "description": "API endpoint to handle chat messages for PatientAgent. Creates or continues a session based on input.", "scope": "", "scopeKind": ""}, {"name": "recommend_view(request)", "description": "API endpoint to generate clinical recommendations via ClinicalAgent, based on session data and optional patient notes.", "scope": "", "scopeKind": ""}, {"name": "upload_report_view(request)", "description": "API endpoint to upload clinical report files, storing them via shared storage and recording the event.", "scope": "", "scopeKind": ""}, {"name": "get_recommendation_view(request)", "description": "Retrieve the latest recommendation note for a specific session.", "scope": "", "scopeKind": ""}], "calls": ["generate_session_id", "b64_to_bytes", "_patient_agent.handle_message", "_clinical_agent.recommend", "_storage.save_file", "_storage.save_session_note", "_storage.get_latest_note"], "search-terms": ["PatientAgent", "clinical recommendation", "upload report", "session_id", "swagger_auto_schema", "health check", "chat", "recommendation", "file upload"], "state": 2, "file_id": 11, "knowledge_revision": 58, "git_revision": "5ecb7ead0df7813a315513751e73f524d30da2f5", "revision_history": [{"33": "db9cd1d7288ab07ecc76da431430a1847bb28397"}, {"49": "db9cd1d7288ab07ecc76da431430a1847bb28397"}, {"58": "5ecb7ead0df7813a315513751e73f524d30da2f5"}], "ctags": [{"_type": "tag", "name": "_clinical_agent", "path": "/home/kavia/workspace/code-generation/medical-decision-support-system-2943-2952/medical_decision_backend/api/views.py", "pattern": "/^_clinical_agent = ClinicalAgent(_storage, _vector_store)$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "_patient_agent", "path": "/home/kavia/workspace/code-generation/medical-decision-support-system-2943-2952/medical_decision_backend/api/views.py", "pattern": "/^_patient_agent = PatientAgent(_storage)$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "_storage", "path": "/home/kavia/workspace/code-generation/medical-decision-support-system-2943-2952/medical_decision_backend/api/views.py", "pattern": "/^_storage = HybridStorage()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "_vector_store", "path": "/home/kavia/workspace/code-generation/medical-decision-support-system-2943-2952/medical_decision_backend/api/views.py", "pattern": "/^_vector_store = LocalVectorStore()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "chat_view", "path": "/home/kavia/workspace/code-generation/medical-decision-support-system-2943-2952/medical_decision_backend/api/views.py", "pattern": "/^def chat_view(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}, {"_type": "tag", "name": "get_recommendation_view", "path": "/home/kavia/workspace/code-generation/medical-decision-support-system-2943-2952/medical_decision_backend/api/views.py", "pattern": "/^def get_recommendation_view(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}, {"_type": "tag", "name": "health", "path": "/home/kavia/workspace/code-generation/medical-decision-support-system-2943-2952/medical_decision_backend/api/views.py", "pattern": "/^def health(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}, {"_type": "tag", "name": "recommend_view", "path": "/home/kavia/workspace/code-generation/medical-decision-support-system-2943-2952/medical_decision_backend/api/views.py", "pattern": "/^def recommend_view(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}, {"_type": "tag", "name": "upload_report_view", "path": "/home/kavia/workspace/code-generation/medical-decision-support-system-2943-2952/medical_decision_backend/api/views.py", "pattern": "/^def upload_report_view(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}], "hash": "8cc86adc2bfeaac43f958fd0a3508354", "format-version": 4, "code-base-name": "medical_decision_backend", "filename": "medical_decision_backend/api/views.py", "fields": [{"name": "_clinical_agent = ClinicalAgent(_storage, _vector_store)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "_patient_agent = PatientAgent(_storage)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "_storage = HybridStorage()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "_vector_store = LocalVectorStore()", "scope": "", "scopeKind": "", "description": "unavailable"}]}