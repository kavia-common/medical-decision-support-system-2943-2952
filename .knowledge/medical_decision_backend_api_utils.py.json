{"is_source_file": true, "format": "Python", "description": "This file provides utility functions for a medical decision support system, including session ID generation, PHI redaction, red flag detection, base64 decoding, directory creation, timestamp generation, HTML header creation, and safe JSON dumping.", "external_files": ["base64", "json", "os", "re", "uuid", "datetime"], "external_methods": ["base64.b64decode", "os.makedirs", "datetime.utcnow"], "published": ["generate_session_id", "redact_phi", "detect_red_flags", "b64_to_bytes", "ensure_dir", "now_iso", "theme_header_html", "safe_json_dump"], "classes": [], "methods": [{"name": "str generate_session_id()", "description": "Generates a unique session identifier using UUID4.", "scope": "", "scopeKind": ""}, {"name": "Tuple[str,List[str]] redact_phi(text: str)", "description": "Redacts PHI such as emails, phone numbers, dates, names, and addresses from a text using regex patterns and returns the redacted text with notes.", "scope": "", "scopeKind": ""}, {"name": "List[str] detect_red_flags(text: str)", "description": "Identifies presence of predefined red-flag keywords related to critical symptoms or conditions in a given text.", "scope": "", "scopeKind": ""}, {"name": "bytes b64_to_bytes(b64: str)", "description": "Decodes a base64-encoded string into bytes.", "scope": "", "scopeKind": ""}, {"name": "None ensure_dir(path: str)", "description": "Creates a directory at the specified path if it does not exist.", "scope": "", "scopeKind": ""}, {"name": "str now_iso()", "description": "Returns the current UTC timestamp in ISO 8601 format.", "scope": "", "scopeKind": ""}, {"name": "str theme_header_html(title: str)", "description": "Generates minimal HTML for a themed header using the Ocean Professional theme.", "scope": "", "scopeKind": ""}, {"name": "str safe_json_dump(data: Dict[str, Any])", "description": "Serializes a Python dictionary into a formatted JSON string with indentation and Unicode support.", "scope": "", "scopeKind": ""}], "calls": ["uuid.uuid4", "re.compile", "base64.b64decode", "os.makedirs", "datetime.utcnow", "json.dumps"], "search-terms": ["PHI redaction", "session ID generation", "red flag detection", "Ocean theme header", "medical utility functions", "json dump utility", "base64 decoding"], "state": 2, "file_id": 20, "knowledge_revision": 41, "git_revision": "", "ctags": [{"_type": "tag", "name": "OCEAN_THEME", "path": "/home/kavia/workspace/code-generation/medical-decision-support-system-2943-2952/medical_decision_backend/api/utils.py", "pattern": "/^OCEAN_THEME = {$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "RED_FLAG_KEYWORDS", "path": "/home/kavia/workspace/code-generation/medical-decision-support-system-2943-2952/medical_decision_backend/api/utils.py", "pattern": "/^RED_FLAG_KEYWORDS = [$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "b64_to_bytes", "path": "/home/kavia/workspace/code-generation/medical-decision-support-system-2943-2952/medical_decision_backend/api/utils.py", "pattern": "/^def b64_to_bytes(b64: str) -> bytes:$/", "language": "Python", "typeref": "typename:bytes", "kind": "function", "signature": "(b64: str)"}, {"_type": "tag", "name": "detect_red_flags", "path": "/home/kavia/workspace/code-generation/medical-decision-support-system-2943-2952/medical_decision_backend/api/utils.py", "pattern": "/^def detect_red_flags(text: str) -> List[str]:$/", "language": "Python", "typeref": "typename:List[str]", "kind": "function", "signature": "(text: str)"}, {"_type": "tag", "name": "ensure_dir", "path": "/home/kavia/workspace/code-generation/medical-decision-support-system-2943-2952/medical_decision_backend/api/utils.py", "pattern": "/^def ensure_dir(path: str) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "(path: str)"}, {"_type": "tag", "name": "generate_session_id", "path": "/home/kavia/workspace/code-generation/medical-decision-support-system-2943-2952/medical_decision_backend/api/utils.py", "pattern": "/^def generate_session_id() -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "now_iso", "path": "/home/kavia/workspace/code-generation/medical-decision-support-system-2943-2952/medical_decision_backend/api/utils.py", "pattern": "/^def now_iso() -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "redact_phi", "path": "/home/kavia/workspace/code-generation/medical-decision-support-system-2943-2952/medical_decision_backend/api/utils.py", "pattern": "/^def redact_phi(text: str) -> Tuple[str, List[str]]:$/", "language": "Python", "typeref": "typename:Tuple[str,List[str]]", "kind": "function", "signature": "(text: str)"}, {"_type": "tag", "name": "safe_json_dump", "path": "/home/kavia/workspace/code-generation/medical-decision-support-system-2943-2952/medical_decision_backend/api/utils.py", "pattern": "/^def safe_json_dump(data: Dict[str, Any]) -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "function", "signature": "(data: Dict[str, Any])"}, {"_type": "tag", "name": "theme_header_html", "path": "/home/kavia/workspace/code-generation/medical-decision-support-system-2943-2952/medical_decision_backend/api/utils.py", "pattern": "/^def theme_header_html(title: str) -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "function", "signature": "(title: str)"}], "hash": "bfec8ae8e54d92ca4b5f24b894960b03", "format-version": 4, "code-base-name": "medical_decision_backend", "filename": "medical_decision_backend/api/utils.py", "fields": [{"name": "OCEAN_THEME = {", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "RED_FLAG_KEYWORDS = [", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"41": ""}]}